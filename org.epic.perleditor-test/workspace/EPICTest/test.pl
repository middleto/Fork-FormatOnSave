#!/usr/bin/perl

if ($foo)
{
    if ($bar)
    {
        if ($xaa)
        {
            while ($foo)
            {
                
                #bzzt
                # this is { { co mme} nt
                # moment } aahhh
                
                print 'this is { {a t}est';
                {
                my $foobar;
                
                $bzz = "foobar!";{ {   }  }
                $i++;
                
                print <<EOT;
                this { is a comment
                blah blah
EOT
                
                zzz
            }
            for ($i = 1; $i < length($xaa); $i++)
            {
                print "foobar";
                my $bzz = (foobar);
                print("foobar");
                
            }
        }
    }
    {
        if ($zoo)
        {
            print "$zoo";
        }
    }
}


if ($test)
{
    foo {
        bar {
        }
    }
    
    print "foo";
    
}

if ($zoo)
{
	if ($foo)
	{
		if ($bar) {
		}
	}
}

sub flooz
{
}

sub foobar
{
    if ($bzz)
    {
        # blah {
        $foo++;
        # balh }
        print '{ { ddd } }';
    }
    print "testing foobar\n";
    print "yes.";
}
